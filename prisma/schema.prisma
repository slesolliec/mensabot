generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model guilds {
  gid         BigInt  @id
  name        String? @db.VarChar(200)
  mensan_role BigInt?
}

model users {
  did               BigInt  @id
  mid               Int?    @unique
  discord_name      String? @db.VarChar(100)
  real_name         String? @db.VarChar(200)
  region            String? @db.VarChar(3)
  departement       Int?    @db.SmallInt
  email             String? @unique @db.VarChar(100)
  state             String? @default("new") @db.VarChar(20)
  validation_code   String? @db.VarChar(6)
  validation_trials Int?    @default(0) @db.TinyInt
}

model members {
  gid   BigInt
  did   BigInt
  state String? @db.VarChar(20)

  @@unique([gid, did], name: "idx_members_gid_did")
}
